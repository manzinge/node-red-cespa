[{"id":"6f96267b.ea5aa8","type":"function","z":"3d8c2030.90be2","name":"Charging Hours","func":"charge_Scheduling = msg.payload; // Receive a True or False from UI\nvar leftCharge= 90;\nvar date = new Date();\nvar currHour = date.getHours();\nvar time2charge= (leftCharge*2)/60;\nvar BatteryCurr = 2;\nwhile (BatteryCurr>0){\n    console.log(\"Battery pluged!\")\n    if(charge_Scheduling ==\"True\")\n{  \n    if(leftCharge>=90 && currHour>=19 && currHour<=5){\n        return{payload : \"HAPPY POWER HOURS :D !!Battery will be charged within \"+time2charge+\" hours\"}\n       \n         }   \n    else if (leftCharge>=90 && currHour<19 && currHour>5){}\n         return{payload : \"BAD POWER HOURS :( !!Battery will be charged within \"+time2charge+\" hours\"}\n     }   \n     \n   else\n{\n     return{payload : \"Scheduling not enabled !\"}\n}\n}\n","outputs":1,"noerr":0,"x":440,"y":200,"wires":[["a5971323.c67a3","5d008ee.8bb0d7"]]}]